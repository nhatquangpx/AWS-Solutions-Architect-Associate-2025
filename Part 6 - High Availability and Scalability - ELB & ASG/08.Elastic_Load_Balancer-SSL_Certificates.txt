        ### M·ª•c ti√™u b√†i h·ªçc ###
- Hi·ªÉu kh√°i ni·ªám SSL/TLS certificate, c∆° ch·∫ø m√£ h√≥a in-flight encrytion
- Bi·∫øt s·ª± kh√°c nhau gi·ªØa SSL v√† TLS, t·∫°i sao hi·ªán nay v·∫´n th∆∞·ªùng g·ªçi nh·∫ßm TLS l√† SSL
- Hi·ªÉu vai tr√≤ c·ªßa Certificate Authority (CA) v√† ch·ª©ng ch·ªâ c√¥ng khai 
- N·∫Øm c√°ch Load Balancer x·ª≠ l√Ω SSL/TLS (certificate termination)
- Bi·∫øt v·ªÅ AWS Certificate Manager (ACM) v√† c√°ch qu·∫£n l√Ω certificate trong AWS 
- Hi·ªÉu SNI (Server Name Indication) v√† t·∫ßm quan tr·ªçng khi d√πng nhi·ªÅu domain tr√™n m·ªôt Load Balancer 
- Ph√¢n bi·ªát kh·∫£ nƒÉng h·ªó tr·ª£ SSL certificate tr√™n CLB, ALB, NLB 

# SSL v√† TLS l√† g√¨?
- SSL (Secure Sockets Layer): giao th·ª©c m√£ h√≥a truy·ªÅn th·ªëng, gi√∫p k·∫øt n·ªëi an to√†n 
- TLS (Transport Layer Security): phi√™n b·∫£n m·ªõi, an to√†n v√† hi·ªán ƒë·∫°i h∆°n SSL
- Th·ª±c t·∫ø hi·ªán nay, TLS m·ªõi l√† chu·∫©n ƒë∆∞·ª£c d√πng, nh∆∞ng m·ªçi ng∆∞·ªùi v·∫´n hay n√≥i nh·∫ßm l√† SSL v√¨ ng·∫Øn g·ªçn v√† quen thu·ªôc 
-> Hi·ªÉu ƒë∆°n gi·∫£n: SSL = t√™n c≈©, TLS = phi√™n b·∫£n m·ªõi. Khi nghe "SSL certificate" th√¨ g·∫ßn nh∆∞ lu√¥n l√† TLS 

# SSL/TLS certificate l√† g√¨?
- L√† m·ªôt t·ªáp ch·ª©ng ch·ªâ s·ªë g·∫Øn v√†o Load Balancer
- N√≥ gi√∫p m√£ h√≥a traffic gi·ªØa client v√† Load Balancer -> g·ªçi l√† in-flight encryption
- Nh·ªù v·∫≠y, d·ªØ li·ªáu g·ª≠i ƒëi tr√™n m·∫°ng (v√≠ d·ª•: password, credit card) kh√¥ng b·ªã l·ªô 
- N·∫øu c√≥ SSL -> tr√¨nh duy·ªát hi·ªÉn th·ªã üîí (lock icon).
- N·∫øu kh√¥ng c√≥ SSL -> hi·ªán c·∫£nh b√°o ‚ùå ‚ÄúNot secure‚Äù, khuy√™n kh√¥ng nh·∫≠p th√¥ng tin nh·∫°y c·∫£m.

# Ai c·∫•p SSL certificate?
- C√°c Certificate Authorities (CA), v√≠ d·ª•:
    + Comodo
    + Symantec
    + GoDaddy
    + GlobalSign
    + Digicert
    + Let's Encrypt (mi·ªÖn ph√≠, r·∫•t ph·ªï bi·∫øn)
-> B·∫°n c√≥ th·ªÉ g·∫Øn public SSL certificate v√†o AWS Load Balancer ƒë·ªÉ m√£ h√≥a k·∫øt n·ªëi gi·ªØa client v√† LB 

# V√≤ng ƒë·ªùi SSL certificate 
- C√≥ h·∫°n s·ª≠ d·ª•ng (expiration date)
- Ph·∫£i gia h·∫°n (renew) ƒë√∫ng h·∫°n, n·∫øu kh√¥ng ch·ª©ng ch·ªâ h·∫øt h·∫°n -> Website s·∫Ω b√°o l·ªói b·∫£o m·∫≠t, ng∆∞·ªùi d√πng kh√¥ng truy c·∫≠p ƒë∆∞·ª£c

# SSL certificate tr√™n Load Balancer
- Quy tr√¨nh k·∫øt n·ªëi:
    1. Ng∆∞·ªùi d√πng k·∫øt n·ªëi t·ªõi website qua HTTPS -> t·ªõi Load Balancer 
    2. Load Balancer th·ª±c hi·ªán SSL Termination:
        + Gi·∫£i m√£ d·ªØ li·ªáu b·∫±ng certificate
        + Sau ƒë√≥, traffic v√†o backend c√≥ th·ªÉ ƒëi b·∫±ng HTTP (kh√¥ng m√£ h√≥a) v√¨ trong n·ªôi b·ªô VPC ƒë√£ an to√†n 
- Load Balancer s·∫Ω t·∫£i ch·ª©ng ch·ªâ X.509 (SSL/TLS server certificate) ƒë·ªÉ th·ª±c hi·ªán vi·ªác n√†y 

# Qu·∫£n l√Ω SSL certificate trong AWS 
- S·ª≠ d·ª•ng ACM (AWS Certificate Manager)
- ACM gi√∫p:
    + T·∫°o/C·∫•p ph√°t certificate (v√≠ d·ª• t·ª´ Let's Encrypt)
    + Import certificate t·ª± t·∫°o n·∫øu mu·ªën 
- Khi t·∫°o HTTPS listener tr√™n Load Balancer -> b·∫Øt bu·ªôc ch·ªâ ƒë·ªãnh 1 default certificate
- C√≥ th·ªÉ g·∫Øn th√™m nhi·ªÅu certificate kh√°c n·∫øu d√πng SNI (ph·∫ßn quan tr·ªçng k·∫ø ti·∫øp)

# SNI (Server Name Indication)
- V·∫•n ƒë·ªÅ ƒë·∫∑t ra: M·ªôt web server/Load Balancer mu·ªën ph·ª•c v·ª• nhi·ªÅu website kh√°c nhau (nhi·ªÅu domain), m·ªói domain c√≥ certificate ri√™ng -> l√†m sao x·ª≠ l√Ω 
- Gi·∫£i ph√°p:
    + SNI l√† m·ªôt extension c·ªßa TLS handshake 
    + Khi client b·∫Øt ƒë·∫ßu k·∫øt n·ªëi, n√≥ g·ª≠i lu√¥n hostname mu·ªën truy c·∫≠p (vd: www.mycorp.com)
    + Server/Load Balancer d·ª±a v√†o hostname n√†y ƒë·ªÉ ch·ªçn certificate t∆∞∆°ng ·ª©ng 
-> Nh·ªù SNI, 1 Load Balancer c√≥ th·ªÉ ph·ª•c v·ª• nhi·ªÅu domain, m·ªói domain c√≥ SSL ri√™ng 

# H·ªó tr·ª£ SNI tr√™n AWS:
- ·ª®ng d·ª•ng ƒë∆∞·ª£c:
    + ALB 
    + NLB
    + CloudFront 
- Kh√¥ng h·ªó tr·ª£: CLB v√¨ qu√° c≈© 
-> Khi d√πng nhi·ªÅu SSL certificate tr√™n 1 LB -> ph·∫£i nghƒ© ngay ƒë·∫øn ALB, NLB, CloudFront

# V√≠ d·ª• minh h·ªça v·ªõi ALB 
- ALB c√≥ 2 target group:
    + www.mycorp.com
    + Domain1.example.com
- ALB ch·ª©a 2 SSL certificate t∆∞∆°ng ·ª©ng:
    + Cert cho www.mycorp.com
    + Cert cho Domain1.example.com
- Khi client g·ª≠i request:
    + N·∫øu host = www.mycorp.com -> ALB ch·ªçn ƒë√∫ng cert mycorp.com -> m√£ h√≥a k·∫øt n·ªëi -> route v·ªÅ target group mycorp 
    + N·∫øu host = Domain1.example.com -> ALB ch·ªçn cert example.com -> route v·ªÅ target group Domain1
-> Nh·ªù SNI, m·ªôt ALB c√≥ th·ªÉ host nhi·ªÅu website kh√°c nhau m·ªôt c√°ch b·∫£o m·∫≠t 

# So s√°nh kh·∫£ nƒÉng h·ªó tr·ª£ SSL certificate
| Load Balancer        | H·ªó tr·ª£ SSL | S·ªë l∆∞·ª£ng certificate  | Ghi ch√∫                                 |
| -------------------- | ---------- | --------------------- | --------------------------------------- |
| **CLB (Classic)**    | ‚úÖ C√≥       | Ch·ªâ **1 certificate** | N·∫øu c·∫ßn nhi·ªÅu cert ‚Üí ph·∫£i t·∫°o nhi·ªÅu CLB |
| **ALB (App LB)**     | ‚úÖ C√≥       | Nhi·ªÅu cert            | D√πng **SNI** ƒë·ªÉ ph√¢n bi·ªát hostname      |
| **NLB (Network LB)** | ‚úÖ C√≥       | Nhi·ªÅu cert            | D√πng **SNI**                            |
| **CloudFront**       | ‚úÖ C√≥       | Nhi·ªÅu cert            | H·ªó tr·ª£ SNI                              |
